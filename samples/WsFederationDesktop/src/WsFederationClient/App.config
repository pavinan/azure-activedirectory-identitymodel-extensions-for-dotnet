<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <startup>
      <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7.2" />
  </startup>

  <!-- logKnownPii needs to have the following config added to machine.config to be enabled -->
  <!-- usually found in:
      C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config  for 32 bit machines
      C:\Windows\Microsoft.NET\Framework64\v4.0.30319\Config  for 64 bit machines
  -->

  <system.serviceModel>
    <diagnostics>
      <messageLogging maxMessagesToLog="30000" logEntireMessage="true" logMessagesAtServiceLevel="true" logMalformedMessages="true" logMessagesAtTransportLevel="true" logKnownPii="true">
      </messageLogging>
    </diagnostics>
  </system.serviceModel>

  <system.diagnostics>
    <sources>
      <source name="System.ServiceModel.MessageLogging" switchValue="Verbose" logKnownPii="true">
        <listeners>
          <add name="xml" type="System.Diagnostics.XmlWriterTraceListener" initializeData="MessageLog.xml" />
        </listeners>
      </source>
      <source name="System.ServiceModel" switchValue="Verbose" logKnownPii="true">
        <listeners>
          <add name="xml" type="System.Diagnostics.XmlWriterTraceListener" initializeData="ServiceModelLog.xml" />
        </listeners>
      </source>
    </sources>
    <trace autoflush="true" />
  </system.diagnostics>

  <runtime>

    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

      <dependentAssembly>

        <assemblyIdentity name="System.Security.Cryptography.Cng" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-4.3.1.0" newVersion="4.3.1.0" />

      </dependentAssembly>

    </assemblyBinding>

  </runtime>
</configuration>
